@using System.ComponentModel.DataAnnotations

@inherits State
@inject IStringLocalizer<Resources> L

@code
{
    protected override RenderFragment Content =>
        @<StateContainer Title="@(L["Components.States.Password.Title"])">
            <MudForm @bind-IsValid="this.IsValid">
                <MudGrid>
                    <MudItem xs="12">
                        <MudTextField
                            T="string"
                            Label="@(L["Components.States.Password.InputPlaceholder"])"
                            Required="true"
                            RequiredError="@L["Common.Error.Required"]"
                            Validation="@(new RegularExpressionAttribute(@"^[a-z0-9\-]{3,30}$")
                                {
                                    ErrorMessage = L["Components.States.Password.ErrorMessage"]
                                })"
                            @bind-Value="this.password"
                            Immediate="true"
                            Class="my-10" />
                    </MudItem>
                    <MudItem xs="6">
                        <MudButton
                            Variant="Variant.Filled"
                            Color="Color.Warning"
                            Size="Size.Large"
                            FullWidth="true"
                            Disabled="!this.IsValid"
                            @onclick="_ => this.OnCreateGame.InvokeAsync(this.password)">
                            @L["Components.States.Password.CreateButton"]
                        </MudButton>
                    </MudItem>
                    <MudItem xs="6">
                        <MudButton
                            Variant="Variant.Filled"
                            Color="Color.Success"
                            Size="Size.Large"
                            FullWidth="true"
                            Disabled="!this.IsValid"
                            @onclick="_ => this.OnJoinGame.InvokeAsync(this.password)">
                            @L["Components.States.Password.JoinButton"]
                        </MudButton>
                    </MudItem>
                </MudGrid>
            </MudForm>
        </StateContainer>;
}