@using System.ComponentModel.DataAnnotations

@inherits State<PlayerWords>
@inject IStringLocalizer<Resources> L

<StepContainer
    Title="@(L["Components.States.Common.SetupPlayer"])"
    Subtitle="@(L["Components.States.PlayerWords.Title"])"
    TotalSteps="2" Step="2">
    <MudForm @ref="this.form" IsValidChanged="_ => this.StateHasChanged()">
        @for (int i = 0; i < this.words.Length; i++)
        {
            var id = i;
            <MudTextField
                T="string"
                Label="@(L[$"Components.States.PlayerWords.Word.{id}"])"
                Required="true"
                RequiredError="@(L["Common.Error.Required"])"
                Validation="@(new MinLengthAttribute(2) { ErrorMessage = L["Components.States.PlayerWords.MinLengthError"] })"
                @bind-Value="this.words[id]"
                Immediate="true"
                Class="my-10" />
        }
        <MudButton
            Variant="Variant.Filled"
            Color="Color.Primary"
            FullWidth="true"
            Size="Size.Large"
            Disabled="!this.form!.IsValid"
            @onclick="this.Submit">
            @L["Components.States.PlayerName.SubmitButton"]
        </MudButton>
    </MudForm>
</StepContainer>