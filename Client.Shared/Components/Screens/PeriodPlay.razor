@inherits Screen
@inject IState<PeriodPlayState> State

<StateContainer>
    <MudContainer Class="mb-3">
        <MudButton
            Variant="Variant.Filled"
            Color="Color.Error"
            FullWidth="true"
            Disabled="!this.State.Value.ShowRevoke"
            @onclick="this.Revoke">
            @L["Components.States.PeriodPlay.RevokeButton"]
        </MudButton>
    </MudContainer>

    <MudContainer Class="my-3">
        <Timer />
    </MudContainer>

    <MudContainer Class="my-3">
        <MudCard Class="mud-theme-primary">
            <MudCardContent>
                <MudText Typo="Typo.h4">@(this.State.Value.Word?.Value ?? string.Empty)</MudText>
            </MudCardContent>
        </MudCard>
    </MudContainer>

    <MudContainer Class="my-3">
        <MudButton
            Variant="Variant.Filled"
            Color="Color.Success"
            Size="Size.Large"
            FullWidth="true"
            Disabled="@(this.State.Value.Word is null)"
            @onclick="this.AddScore">
            @L["Components.States.PeriodPlay.GuessedButton"]
        </MudButton>
    </MudContainer>

    <MudContainer Class="my-3">
        <MudButton
            Variant="Variant.Filled"
            Color="Color.Error"
            Size="Size.Large"
            FullWidth="true"
            Disabled="!this.State.Value.Expired"
            @onclick="this.FinishPeriod">
            @L["Components.States.PeriodPlay.PassButton"]
        </MudButton>
    </MudContainer>

    <MudContainer>
        <MudAlert Severity="@(this.State.Value.Expired ? Severity.Warning : Severity.Info)">
            @L[$"Components.States.PeriodPlay.{(this.State.Value.Expired ? "Warning" : "Info")}Alert"] 
        </MudAlert>
    </MudContainer>
</StateContainer>